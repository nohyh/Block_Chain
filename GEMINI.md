区块链项目2.0大纲
一.自顶向下：我需要一个什么样的项目，这个项目需要展示区块链的哪些特性？一个类似于比特币模式的区块链项目，其中的代币是我自定义的NoCoin。我会设置100个电脑生成的会自动发生交易的用户。让这些用户不断发生交易。同时保证不断输出相关的信息。在输出交易信息的同时若干个矿工也在收集信息，并且会在信息达到一定量后进行哈希运算，第一个算出来的进行打包，然后将此区块上链，并广播。此时我们的终端也应该打印这个区块的信息，通过这些信息，我们就能够清楚的看到区块链的工作。如果顺利，我还会加入其他功能（例如可以查询某个钱包的交易记录等）
二.细节的初步拆分：
1.关于Notcoin本身，如何去实现他？这不是一个简单的问题  2.用户：我会定义一个用户类，然后利用循环创建100个私钥，借此创建公钥和钱包地址。 3.关于自动交易：随机抽出两名用户作为交易的双方，在余额足够的前提下发生任意金额的转账。（这也不是仅仅的user1.saves -amount,user2.saves+amout 这么简单。实际上还要发生比较复杂的一个验证步骤。  4.挖矿：我会设置若干个矿工，他们会在上一个区块上链广播的瞬间开始收集接下来的交易信息，当收集的交易信息达到一个区块能够容纳的大小时，开始进行哈希计算。将区块上链，广播这个区块，获得奖励。其他的矿工得到这个广播后，丢弃目前的信息，开始下一轮挖矿。关于奖励部分：我将摒弃手续费的概念，奖励全部来自区块链本身。5.打印信息：打印每笔转账的信息，打印每次新的区块的信息。（目前的想法）
三.详细的细节阐述：
1.块：块头：编号（编号不参与最终哈希值的计算），时间戳，前一个区块的哈希值，默克尔根（默克尔根是一个对区块内包含的所有交易经过哈希运算得到的哈希值），难度（矿工生成的哈希值的前n个数为0才算成功，n就为其难度，随机数（随机生成的值，矿工随后会对其进行一个迭代更改操作以挖矿）  另外，哈希值虽然计算出来，但并不作为基础元素。   块尾： 一个储存交易信息的数组

2.用户，为一个类，private：私钥 公钥  public 钱包地址 。成员方法：转账：user.transfer（目标的钱包地址，金额）  
）  

3.交易：
Transaction类：包含：支票（使用的UTXO信息，接受者的地址和金额），数字签名（根据私钥和交易信息算出来），发送方的公钥
具体方法：
我首先应该创建一个UTXO表格，使用哈希表存储每一笔可用的钱的信息（包含输出序号，金额，所有者地址，TXID，其中TXID和输出序号的组合作为键）。用户提出转账请求时，系统会在表格中遍历查找该用户地址所在的部分，找出其能够匹配用户转账金额的UTXO。||系统将该UTXO删除，然后系统就会创建新的UTXO（接收者的金额为转账金额，输出序号为0，所有者地址为接收者，TXID通过交易信息计算出来，发送者同理，并一起被输出（如果有找零的话），将其加入到UTXO表格中。经过这一系列操作，完成了交易操作。（另外，在这个mini区块链中，我不打算设置手续费）

对上述具体方法更为具体的表述(从上面的||符号开始的内容的一个更新）：当找出能够匹配用户转账金额的UTXO后，交易申请正式进行处理：首先创建一个新的Transacion类，将支票的信息填入。然后用用户的私钥进行一个签名，也包含在这个对象中。然后将发送者的公钥也添加到这个对象中。对整个网络进行广播，被矿工捕获确认打包后（别急，这部分之后我们还会讨论，一步一步来），交易正式被确定并上链。此时UTXO表格根据新块的交易信息删除发送者消耗的UTXO，创建新的UTXO并加入表格中，正式完成了交易操作

4.挖矿：miner类：继承自user类，每个miner都拥有一个mempool,用set存储，
挖矿过程：用多线程并发模式模拟多个矿工挖矿。每个矿工都有一个mempool，他们捕获广播的交易信息，然后利用这段信息的公钥进行数字签名的验证。验证成功后将这个交易信息加入自己的mempool，当信息积累到一定数量后，矿工会对所有交易信息以及一些其他信息打包，然后对区块头进行一个哈希运算，并不断更改随机数，当算出来的值满足难度要求后，将块经过系统验证后，上链并向其他所有节点广播这个块，。所有矿工在收到广播信息后立即放弃当前操作立马进行下一轮的挖矿操作 （对于这个mini区块链的项目，为了利于编程，我打算在不影响整体的前提下减少一部分逻辑，在挖矿这一部分，我打算视为所有的矿工都为独立矿工，矿工也不会对听到的交易信息直接筛选，进行数字签名认证后直接纳入mempool，当信息量=最大储存量时进行运算）
用多线程并发模式模拟多个矿工挖矿。
挖矿验证：系统会收到矿工广播的块并进行验证，具体为：
1.计算验证其哈希值，看是否符合难度要求2.前一个区块的哈希值是否与该块显示的相符3.检查所有交易（包括coinbase交易，确认coinbase奖励值是否正确，确认其他交易的在UTXO集中是未使用状态，并对其进行数字签名验证）4.时间戳需要大于前一个区块  
奖励：矿工会将coinbase交易（即挖矿奖励）作为自己区块交易集合的第一个交易（Transaction），挖矿奖励为固定值，目前设为10
